<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@400;500;600;700&display=swap');
        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex items-center justify-center p-4">
    <div class="max-w-md w-full bg-white rounded-2xl shadow-lg overflow-hidden">
        <!-- Login Form Container -->
        <div class="p-8">
            <!-- Header -->
            <div class="mb-8">
                <h1 class="text-3xl font-bold text-gray-900 mb-2">Log in</h1>
                <p class="text-gray-600">Enter your phone number or email to continue</p>
            </div>

            <!-- Phone/Email Selection -->
            <div class="mb-6">
                <div class="flex border rounded-lg overflow-hidden mb-6">
                    <button id="phoneTab" class="flex-1 py-3 text-center font-medium bg-gray-100 text-gray-900">
                        Phone
                    </button>
                    <button id="emailTab" class="flex-1 py-3 text-center font-medium text-gray-600">
                        Email / Username
                    </button>
                </div>

                <!-- Divider -->
                <div class="relative mb-6">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-200"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-2 bg-white text-gray-500">or</span>
                    </div>
                </div>
            </div>

            <!-- Phone Input Section (Default) -->
            <div id="phoneSection" class="space-y-6">
                <!-- Country Code Selector -->
                <div class="border rounded-lg p-3 hover:border-gray-400 transition-colors cursor-pointer">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <span class="text-lg mr-2">ðŸ‡ªðŸ‡¸</span>
                            <span class="font-medium">ES +34</span>
                            <i class="fas fa-chevron-down ml-2 text-gray-400"></i>
                        </div>
                        <span class="text-gray-400">Phone number</span>
                    </div>
                </div>

                <!-- Phone Number Input -->
                <div class="border rounded-lg overflow-hidden">
                    <input 
                        type="tel" 
                        id="phoneInput"
                        placeholder="Enter your phone number"
                        class="w-full px-4 py-3 text-lg focus:outline-none"
                    >
                </div>
            </div>

            <!-- Email Input Section (Hidden by default) -->
            <div id="emailSection" class="space-y-6 hidden">
                <!-- Email Input -->
                <div class="border rounded-lg overflow-hidden">
                    <input 
                        type="text" 
                        id="emailInput"
                        placeholder="Email or username"
                        class="w-full px-4 py-3 text-lg focus:outline-none"
                    >
                </div>
            </div>

            <!-- Save Login Info -->
            <div class="mt-8 mb-6 p-4 bg-blue-50 rounded-lg">
                <div class="flex items-start">
                    <div class="flex-shrink-0 mt-0.5">
                        <i class="fas fa-cloud text-blue-500"></i>
                    </div>
                    <div class="ml-3">
                        <p class="text-sm text-blue-800">
                            <span class="font-medium">Save login info on your iCloud devices</span> to log in automatically next time.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Continue Button -->
            <button id="continueBtn" 
                    class="w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                    disabled>
                Continue
            </button>

            <!-- Help Links -->
            <div class="mt-8 text-center space-y-3">
                <a href="#" class="block text-blue-500 hover:text-blue-600 font-medium">
                    <i class="fas fa-question-circle mr-2"></i>
                    Having trouble logging in?
                </a>
                <a href="#" class="block text-blue-500 hover:text-blue-600 font-medium">
                    <i class="fas fa-user-plus mr-2"></i>
                    Create new account
                </a>
            </div>
        </div>

        <!-- Footer -->
        <div class="bg-gray-50 px-8 py-4 border-t border-gray-200">
            <div class="flex justify-between items-center">
                <a href="#" class="text-gray-500 hover:text-gray-700 text-sm">
                    <i class="fas fa-shield-alt mr-1"></i>
                    Privacy Policy
                </a>
                <a href="#" class="text-gray-500 hover:text-gray-700 text-sm">
                    <i class="fas fa-file-alt mr-1"></i>
                    Terms of Service
                </a>
            </div>
        </div>
    </div>

    <!-- Country Code Modal -->
    <div id="countryModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl max-w-md w-full max-h-[80vh] overflow-hidden">
            <div class="p-4 border-b">
                <div class="flex items-center justify-between">
                    <h3 class="text-lg font-medium">Select Country</h3>
                    <button id="closeModal" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="overflow-y-auto max-h-[60vh]">
                <!-- Country List -->
                <div class="divide-y">
                    <div class="country-option p-3 hover:bg-gray-50 cursor-pointer flex items-center justify-between" data-code="+34">
                        <div class="flex items-center">
                            <span class="text-xl mr-3">ðŸ‡ªðŸ‡¸</span>
                            <span>Spain (+34)</span>
                        </div>
                        <i class="fas fa-check text-blue-500 hidden"></i>
                    </div>
                    <div class="country-option p-3 hover:bg-gray-50 cursor-pointer flex items-center justify-between" data-code="+1">
                        <div class="flex items-center">
                            <span class="text-xl mr-3">ðŸ‡ºðŸ‡¸</span>
                            <span>United States (+1)</span>
                        </div>
                        <i class="fas fa-check text-blue-500 hidden"></i>
                    </div>
                    <div class="country-option p-3 hover:bg-gray-50 cursor-pointer flex items-center justify-between" data-code="+44">
                        <div class="flex items-center">
                            <span class="text-xl mr-3">ðŸ‡¬ðŸ‡§</span>
                            <span>United Kingdom (+44)</span>
                        </div>
                        <i class="fas fa-check text-blue-500 hidden"></i>
                    </div>
                    <div class="country-option p-3 hover:bg-gray-50 cursor-pointer flex items-center justify-between" data-code="+33">
                        <div class="flex items-center">
                            <span class="text-xl mr-3">ðŸ‡«ðŸ‡·</span>
                            <span>France (+33)</span>
                        </div>
                        <i class="fas fa-check text-blue-500 hidden"></i>
                    </div>
                    <div class="country-option p-3 hover:bg-gray-50 cursor-pointer flex items-center justify-between" data-code="+49">
                        <div class="flex items-center">
                            <span class="text-xl mr-3">ðŸ‡©ðŸ‡ª</span>
                            <span>Germany (+49)</span>
                        </div>
                        <i class="fas fa-check text-blue-500 hidden"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const phoneTab = document.getElementById('phoneTab');
            const emailTab = document.getElementById('emailTab');
            const phoneSection = document.getElementById('phoneSection');
            const emailSection = document.getElementById('emailSection');
            const phoneInput = document.getElementById('phoneInput');
            const emailInput = document.getElementById('emailInput');
            const continueBtn = document.getElementById('continueBtn');
            const countrySelector = phoneSection.querySelector('.border.rounded-lg.p-3');
            const countryModal = document.getElementById('countryModal');
            const closeModal = document.getElementById('closeModal');
            const countryOptions = document.querySelectorAll('.country-option');
            
            // Current country code
            let currentCountryCode = '+34';
            let currentCountryName = 'ES';
            let currentCountryFlag = 'ðŸ‡ªðŸ‡¸';

            // Tab switching functionality
            phoneTab.addEventListener('click', () => {
                phoneTab.classList.add('bg-gray-100', 'text-gray-900');
                phoneTab.classList.remove('text-gray-600');
                emailTab.classList.remove('bg-gray-100', 'text-gray-900');
                emailTab.classList.add('text-gray-600');
                
                phoneSection.classList.remove('hidden');
                emailSection.classList.add('hidden');
                
                validateInput();
            });

            emailTab.addEventListener('click', () => {
                emailTab.classList.add('bg-gray-100', 'text-gray-900');
                emailTab.classList.remove('text-gray-600');
                phoneTab.classList.remove('bg-gray-100', 'text-gray-900');
                phoneTab.classList.add('text-gray-600');
                
                emailSection.classList.remove('hidden');
                phoneSection.classList.add('hidden');
                
                validateInput();
            });

            // Input validation
            function validateInput() {
                if (phoneSection.classList.contains('hidden')) {
                    // Email validation
                    const email = emailInput.value.trim();
                    const isValid = email.includes('@') && email.includes('.') && email.length > 5;
                    continueBtn.disabled = !isValid;
                } else {
                    // Phone validation
                    const phone = phoneInput.value.trim();
                    const isValid = phone.length >= 7 && /^[0-9\s+()-]+$/.test(phone);
                    continueBtn.disabled = !isValid;
                }
            }

            // Country selector modal
            countrySelector.addEventListener('click', () => {
                countryModal.classList.remove('hidden');
                // Mark current selection
                countryOptions.forEach(option => {
                    const checkIcon = option.querySelector('.fa-check');
                    if (option.dataset.code === currentCountryCode) {
                        checkIcon.classList.remove('hidden');
                    } else {
                        checkIcon.classList.add('hidden');
                    }
                });
            });

            closeModal.addEventListener('click', () => {
                countryModal.classList.add('hidden');
            });

            // Country selection
            countryOptions.forEach(option => {
                option.addEventListener('click', () => {
                    const code = option.dataset.code;
                    const text = option.querySelector('span').textContent;
                    const flag = option.querySelector('.text-xl').textContent;
                    
                    currentCountryCode = code;
                    currentCountryName = text.split(' ')[0];
                    currentCountryFlag = flag;
                    
                    // Update display
                    countrySelector.querySelector('.text-lg').textContent = flag;
                    countrySelector.querySelector('.font-medium').textContent = `${currentCountryName} ${code}`;
                    
                    // Close modal
                    countryModal.classList.add('hidden');
                    
                    // Update all checkmarks
                    countryOptions.forEach(opt => {
                        const checkIcon = opt.querySelector('.fa-check');
                        if (opt.dataset.code === code) {
                            checkIcon.classList.remove('hidden');
                        } else {
                            checkIcon.classList.add('hidden');
                        }
                    });
                });
            });

            // Close modal on outside click
            countryModal.addEventListener('click', (e) => {
                if (e.target === countryModal) {
                    countryModal.classList.add('hidden');
                }
            });

            // Input event listeners for validation
            phoneInput.addEventListener('input', validateInput);
            emailInput.addEventListener('input', validateInput);

            // Form submission
            continueBtn.addEventListener('click', function() {
                if (this.disabled) return;
                
                const isPhoneMode = !phoneSection.classList.contains('hidden');
                
                if (isPhoneMode) {
                    const phoneNumber = phoneInput.value.trim();
                    alert(`Sending verification code to ${currentCountryCode} ${phoneNumber}`);
                    // In real app, you would make an API call here
                } else {
                    const email = emailInput.value.trim();
                    alert(`Sending login link to ${email}`);
                    // In real app, you would make an API call here
                }
                
                // Simulate loading
                const originalText = this.textContent;
                this.textContent = 'Processing...';
                this.disabled = true;
                
                setTimeout(() => {
                    this.textContent = originalText;
                    this.disabled = false;
                }, 1500);
            });

            // Enter key support
            phoneInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !continueBtn.disabled) {
                    continueBtn.click();
                }
            });

            emailInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !continueBtn.disabled) {
                    continueBtn.click();
                }
            });

            // Initial validation
            validateInput();
        });
    </script>
</body>
</html>
